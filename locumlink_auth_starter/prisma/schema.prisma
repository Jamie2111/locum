generator client {
  provider = "prisma-client-js"
}
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  DOCTOR
  FACILITY
  ADMIN
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  role      Role     @default(DOCTOR)
  doctor    Doctor?
  facility  Facility?
  createdAt DateTime @default(now())
}

model Doctor {
  id         String @id @default(cuid())
  userId     String @unique
  name       String
  specialty  String?
  location   String?
  createdAt  DateTime @default(now())
  user       User   @relation(fields:[userId], references:[id])
  applications Application[]
}

model Facility {
  id         String @id @default(cuid())
  userId     String @unique
  name       String
  location   String
  createdAt  DateTime @default(now())
  user       User   @relation(fields:[userId], references:[id])
  shifts     Shift[]
}

model Shift {
  id          String   @id @default(cuid())
  facilityId  String
  title       String
  description String
  location    String
  rate        Float?
  date        DateTime?
  createdAt   DateTime @default(now())
  facility    Facility @relation(fields:[facilityId], references:[id])
  applications Application[]
}

model Application {
  id        String   @id @default(cuid())
  doctorId  String
  shiftId   String
  createdAt DateTime @default(now())
  doctor    Doctor   @relation(fields:[doctorId], references:[id])
  shift     Shift    @relation(fields:[shiftId], references:[id])
}
